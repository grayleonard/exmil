var load_ed_imgs=function(o,a){if(1==has_loaded[o-1])return void a();var s=0,e=$("#"+o+" img").filter(function(o){var a=$(this).attr("data-echo");return"undefined"!=typeof a&&a!==!1});$("#loading-screen").removeClass("dont-show"),$.each(e,function(o,t){var n=$(t).attr("data-echo");void 0!=n&&n!=t.src&&(t.src=n,$(t).load(function(){s++,s==e.length-1&&a()}))})},has_loaded=[!1,!1,!1,!1],hf=function(){if(document.location.hash.length>1){var o=document.location.hash.replace("#","").split("/"),a=$(".edition#"+o[0]);if(0!=a.length){var s=o[1];a.addClass("active").removeClass("not-active"),$(".entries").addClass("show").removeClass("dont-show"),$(".edition").not(a).addClass("not-active").removeClass("active"),$("#navigation").addClass("show").removeClass("dont-show"),load_ed_imgs(o[0],function(){has_loaded[o[0]-1]=!0,$("#loading-screen").addClass("dont-show"),$(document).scrollTop($("#"+o[0]).offset().top-40),void 0!=s&&($(document).scrollTop($("#"+s).offset().top),$(window).load(function(){$(document).scrollTop($("#"+s).offset().top)}))})}else hp()}else $(".edition").removeClass("active").removeClass("not-active"),$("#navigation").addClass("dont-show").removeClass("show")},hp=function(){$(".entries").addClass("dont-show").removeClass("show"),$(".edition").addClass("active").removeClass("not-active"),$("#navigation").addClass("dont-show").removeClass("show")};$(document).ready(function(){console.log("calling"),hf(),$(".cover-photo").click(function(o){console.log($(this).attr("id")),document.location.hash=$(this).attr("id")})}),$(window).on("hashchange",function(){hf()});